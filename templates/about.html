{% extends "base.html" %}
{% block title %}About - Driver Incentive Program{% endblock %}

{% block content %}
<div class="about-hero">
  <div class="container">

    <!-- Page Header -->
    <header class="page-head">
      <h1>About Team 16</h1>
      <p class="subtitle">We build a safer, smarter Driver Incentive Programâ€”rewarding good driving with real perks.</p>
    </header>

    <!-- SCENE -->
    <section class="scene" aria-label="Team 16 truck scene">
      <!-- Sky bits -->
      <div class="cloud c1" aria-hidden="true"></div>
      <div class="cloud c2" aria-hidden="true"></div>
      <div class="cloud c3" aria-hidden="true"></div>

      <!-- Road -->
      <div class="road" aria-hidden="true">
        <span class="dash"></span>
      </div>

      <!-- Truck -->
      <div class="truck-wrap">
        <svg viewBox="0 0 1200 420" class="truck-svg" role="img" aria-labelledby="truckTitle truckDesc">
          <title id="truckTitle">Team 16 Delivery Truck</title>
          <desc id="truckDesc">Trailer displays a manifest of Team 16 information.</desc>

          <!-- Trailer -->
          <g id="trailer">
            <rect x="150" y="90" width="720" height="230" rx="16" class="trailer-skin"/>
            <rect x="780" y="102" width="78" height="26" rx="6" class="badge"/>
            <text x="819" y="120" text-anchor="middle" class="badge-text">TEAM 16</text>
            <rect x="860" y="200" width="12" height="50" rx="6" class="handle"/>
          </g>

          <!-- Hitch -->
          <rect x="870" y="205" width="32" height="18" rx="3" class="hitch"/>

          <!-- Cab -->
          <g id="cab">
            <rect x="905" y="150" width="170" height="170" rx="18" class="cab-skin"/>
            <rect x="930" y="168" width="90" height="52" rx="8" class="window"/>
            <rect x="918" y="230" width="58" height="14" rx="4" class="grille"/>
            <rect x="905" y="310" width="170" height="12" class="step"/>
            <!-- Headlight (visual only) -->
            <g class="headlight" aria-hidden="true">
              <circle cx="1068" cy="250" r="12" class="lamp"/>
            </g>
          </g>

          <!-- Wheels -->
          <g class="wheels" aria-hidden="true">
            <circle cx="250" cy="350" r="42" class="wheel"/>
            <circle cx="740" cy="350" r="42" class="wheel"/>
            <circle cx="1025" cy="350" r="40" class="wheel"/>
            <circle cx="250" cy="350" r="10" class="hub"/>
            <circle cx="740" cy="350" r="10" class="hub"/>
            <circle cx="1025" cy="350" r="10" class="hub"/>
          </g>
        </svg>

        <!-- Static Manifest inside the trailer -->
        <aside class="manifest" aria-label="Team 16 manifest">

          <div class="manifest-body">
            {% if rows and rows|length %}
              <ul class="kv-list">
                {% for row in rows %}
                  {% for key, value in row.items() %}
                    <li class="kv">
                      <span class="k">{{ key }}</span>
                      <span class="v">{{ value }}</span>
                    </li>
                  {% endfor %}
                {% endfor %}
              </ul>
            {% else %}
              <div class="empty">No data found.</div>
            {% endif %}
          </div>
        </aside>
      </div>
    </section>
  </div>
</div>

<style>
/* ---------- Base Layout ---------- */
.about-hero { background: radial-gradient(1200px 600px at 50% -200px, #f3f7ff, #ffffff 60%); }
.container { max-width: 1100px; margin: 0 auto; padding: 3rem 1rem 4rem; }
.page-head h1 { text-align:center; font-weight:700; margin:0; letter-spacing:.2px; }
.page-head .subtitle { text-align:center; color:#64748b; margin:.5rem 0 2rem; }

/* ---------- Scene ---------- */
.scene { position:relative; border-radius:16px; padding:2.25rem 1rem 3.25rem; overflow:hidden;
         background:linear-gradient(#eaf2ff, #f8fbff 40%, #fff); box-shadow:0 1px 2px rgba(16,24,40,.06); }

.road { position:absolute; left:0; right:0; bottom:54px; height:6px; background:#e6ebf3; }
.road .dash { position:absolute; left:-100%; right:0; top:0; height:6px;
              background:repeating-linear-gradient(90deg,transparent 0 30px,#cad1dc 30px 60px);
              animation:dash 10s linear infinite; }
@keyframes dash { to { left:100%; } }

.cloud { position:absolute; top:16px; width:180px; height:60px; background:#fff; border-radius:30px;
         filter:drop-shadow(0 2px 4px rgba(0,0,0,.05)); opacity:.95; }
.cloud:before, .cloud:after { content:""; position:absolute; background:#fff; width:100px; height:100px; border-radius:50%; top:-30px; }
.cloud:before { left:20px; } .cloud:after { right:20px; }
.c1 { left:6%;  animation:float 23s linear infinite; }
.c2 { left:40%; animation:float 27s linear infinite reverse; top:28px; }
.c3 { left:76%; animation:float 25s linear infinite; top:22px; }
@keyframes float { 0%{transform:translateX(0)}100%{transform:translateX(120px)} }

.truck-wrap { position:relative; }
.truck-svg { width:100%; height:auto; display:block; }
.trailer-skin { fill:#fff; stroke:#dbe2ee; stroke-width:3; }
.badge { fill:#0d6efd; }
.badge-text { fill:#fff; font:700 14px/1 "Inter",system-ui, -apple-system, "Segoe UI", Roboto, Arial; letter-spacing:.4px; }
.handle { fill:#e8edf6; }
.hitch { fill:#2f3b47; }
.cab-skin { fill:#0d6efd; }
.window { fill:#E9F4FF; }
.grille { fill:#dfe5ec; }
.step { fill:#2f3b47; }
.wheel { fill:#1f2937; }
.hub { fill:#c9d2dc; }
.lamp { fill:#ffd76b; stroke:#b69539; stroke-width:1.5; }

/* ---------- Static Manifest (mapped to trailer rect) ---------- */
.manifest {
  position:absolute; z-index:3;
  left:calc(150 / 1200 * 100%);
  top:calc(90 / 420 * 100%);
  width:calc(720 / 1200 * 100%);
  height:calc(230 / 420 * 100%);
  background:#fff;
  border:1px solid #e6ebf3;
  border-radius:16px;
  box-shadow: 0 20px 40px rgba(20,35,60,.08);
  display:grid;
  grid-template-rows:auto 1fr;
  overflow:hidden;               /* stays clipped inside the rounded box */
}

.manifest-head { padding:.85rem 1rem; border-bottom:1px solid #eef2f7; background:linear-gradient(#fbfcff,#fff); }
.manifest-title { margin:0; font-size:1rem; font-weight:700; letter-spacing:.2px; }
.manifest-sub { margin:.25rem 0 0; color:#64748b; font-size:.875rem; }

.manifest-body { overflow:auto; padding:.5rem .75rem 1rem; }
.kv-list { list-style:none; margin:0; padding:0; }
.kv { display:grid; grid-template-columns:1fr 2fr; gap:.5rem 1rem; padding:.6rem .5rem; border-bottom:1px dashed #e6ebf3; }
.kv .k { font-weight:600; color:#0f172a; white-space:nowrap; }
.kv .v { color:#334155; word-break:break-word; }
.empty { height:100%; display:grid; place-items:center; color:#94a3b8; font-style:italic; }

/* ---------- Responsive ---------- */
@media (max-width:768px){
  .kv { grid-template-columns:1fr; }
  .manifest { left:1rem; right:1rem; width:auto; height:260px; }
}
</style>

<!-- No JavaScript needed; the manifest is always visible -->
{% endblock %}
